var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _Button=require("./Button");var _ButtonSignUp=require("./ButtonSignUp");var _ButtonSignOut=require("./ButtonSignOut");var _reactRouterDom=require("react-router-dom");require("../../../assets/styles/Home/Navbar.scss");require("../../../assets/styles/Home/Home.scss");var _lana3x=_interopRequireDefault(require("../../../assets/images/Home/init/lana@3x.png"));var _reactfire=require("reactfire");var _Toast=_interopRequireDefault(require("../../../utils/Toast"));var _app=_interopRequireDefault(require("firebase/app"));require("firebase/auth");var _logoutEmployee=_interopRequireDefault(require("../../../Services/webinit/logoutEmployee"));var _this=this,_jsxFileName="/home/guzman/ReactJSProjects/weblanatax/src/components/pages/Home/Navbar.jsx";var Navbar=function Navbar(_ref){var user=_ref.user;return function(user){var firebase=(0,_reactfire.useFirebaseApp)();var _useState=(0,_react.useState)(false),_useState2=(0,_slicedToArray2.default)(_useState,2),click=_useState2[0],setClick=_useState2[1];var _useState3=(0,_react.useState)(true),_useState4=(0,_slicedToArray2.default)(_useState3,2),button=_useState4[0],setButton=_useState4[1];var handleClick=function handleClick(){return setClick(!click);};var closeMobileMenu=function closeMobileMenu(){return setClick(false);};var showButton=function showButton(){if(window.innerWidth<=961){setButton(false);}else{setButton(true);}};(0,_react.useEffect)(function(){showButton();},[]);window.addEventListener('resize',showButton);var autenticacion=false;var user=(0,_reactfire.useUser)();var email="";if(user.data==null){console.log("usuario no está definido");}else{console.log("usuario está definido",user);email=user.data.email;autenticacion=true;}var signOut=function signOut(){return _regenerator.default.async(function signOut$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regenerator.default.awrap(firebase.auth().signOut());case 3:(0,_logoutEmployee.default)(user.data.uid);(0,_Toast.default)("La sesión se cerró.","success");closeMobileMenu();_context.next=12;break;case 8:_context.prev=8;_context.t0=_context["catch"](0);console.error("Error al cerrar sesión:",_context.t0);(0,_Toast.default)("Error al cerrar sesión.","error");case 12:case"end":return _context.stop();}}},null,null,[[0,8]],Promise);};return _react.default.createElement(_react.default.Fragment,null,_react.default.createElement("nav",{className:"navbar",__self:_this,__source:{fileName:_jsxFileName,lineNumber:78,columnNumber:7}},_react.default.createElement("div",{className:"navbar-container",__self:_this,__source:{fileName:_jsxFileName,lineNumber:80,columnNumber:9}},_react.default.createElement(_reactRouterDom.Link,{to:"/",onClick:closeMobileMenu,__self:_this,__source:{fileName:_jsxFileName,lineNumber:81,columnNumber:9}},_react.default.createElement("img",{className:"LANA",src:_lana3x.default,alt:"logo",__self:_this,__source:{fileName:_jsxFileName,lineNumber:82,columnNumber:11}})),_react.default.createElement("div",{className:"menu-icon",onClick:handleClick,__self:_this,__source:{fileName:_jsxFileName,lineNumber:85,columnNumber:11}},_react.default.createElement("i",{className:click?'fas fa-times':'fas fa-bars',__self:_this,__source:{fileName:_jsxFileName,lineNumber:86,columnNumber:13}})),_react.default.createElement("ul",{className:click?'nav-menu active':'nav-menu',__self:_this,__source:{fileName:_jsxFileName,lineNumber:90,columnNumber:11}},_react.default.createElement("li",{className:"nav-item",__self:_this,__source:{fileName:_jsxFileName,lineNumber:93,columnNumber:13}},_react.default.createElement(_reactRouterDom.Link,{to:"/quienes-somos",className:"nav-links",onClick:closeMobileMenu,__self:_this,__source:{fileName:_jsxFileName,lineNumber:94,columnNumber:15}},"Quienes Somos")),_react.default.createElement("li",{className:"nav-item",__self:_this,__source:{fileName:_jsxFileName,lineNumber:98,columnNumber:13}},_react.default.createElement(_reactRouterDom.Link,{to:"/services",className:"nav-links",onClick:closeMobileMenu,__self:_this,__source:{fileName:_jsxFileName,lineNumber:99,columnNumber:15}},"Que hacemos")),_react.default.createElement("li",{className:"nav-item",__self:_this,__source:{fileName:_jsxFileName,lineNumber:107,columnNumber:13}},_react.default.createElement(_reactRouterDom.Link,{to:"/products",className:"nav-links",onClick:closeMobileMenu,__self:_this,__source:{fileName:_jsxFileName,lineNumber:108,columnNumber:15}},"C\xF3mo Pensamos")),_react.default.createElement("li",{__self:_this,__source:{fileName:_jsxFileName,lineNumber:118,columnNumber:13}},_react.default.createElement(_reactRouterDom.Link,{to:"/sign-in",className:!autenticacion?'nav-links-mobile':'hide',onClick:closeMobileMenu,__self:_this,__source:{fileName:_jsxFileName,lineNumber:119,columnNumber:15}},"Sign In")),_react.default.createElement("li",{__self:_this,__source:{fileName:_jsxFileName,lineNumber:128,columnNumber:14}},_react.default.createElement(_reactRouterDom.Link,{to:"/sign-up",className:autenticacion?'nav-links-mobile':'hide',onClick:signOut,__self:_this,__source:{fileName:_jsxFileName,lineNumber:129,columnNumber:15}},"Sign Out"),!button&&_react.default.createElement("h1",{className:"user-avatar-mobile",__self:_this,__source:{fileName:_jsxFileName,lineNumber:137,columnNumber:26}},email)),_react.default.createElement("li",{__self:_this,__source:{fileName:_jsxFileName,lineNumber:140,columnNumber:14}},_react.default.createElement(_reactRouterDom.Link,{to:"/sign-in",className:!autenticacion?'nav-links-mobile':'hide',onClick:closeMobileMenu,__self:_this,__source:{fileName:_jsxFileName,lineNumber:141,columnNumber:15}},"Sign Up")),_react.default.createElement("li",{className:autenticacion?'hide':'nav-item nav-btn',__self:_this,__source:{fileName:_jsxFileName,lineNumber:151,columnNumber:13}},button&&_react.default.createElement(_Button.Button,{onClick:closeMobileMenu,buttonStyle:"btn--outline",__self:_this,__source:{fileName:_jsxFileName,lineNumber:152,columnNumber:24}},"Sing In")),_react.default.createElement("li",{className:autenticacion?'user-avatar':'hide',__self:_this,__source:{fileName:_jsxFileName,lineNumber:155,columnNumber:13}},button&&_react.default.createElement("h1",{className:"user-avatar",__self:_this,__source:{fileName:_jsxFileName,lineNumber:156,columnNumber:24}},email)),_react.default.createElement("li",{className:autenticacion?'user-avatar':'hide',__self:_this,__source:{fileName:_jsxFileName,lineNumber:159,columnNumber:13}},button&&_react.default.createElement(_ButtonSignOut.ButtonSignOut,{onClick:signOut,buttonStyle:"btn--outlinetest",buttonSize:"btn--large",__self:_this,__source:{fileName:_jsxFileName,lineNumber:160,columnNumber:23}},"SignOut")),_react.default.createElement("li",{className:autenticacion?'display-tablet':'nav-item nav-btn',__self:_this,__source:{fileName:_jsxFileName,lineNumber:164,columnNumber:13}},button&&_react.default.createElement(_ButtonSignUp.ButtonSignUp,{onClick:closeMobileMenu,buttonStyle:"btn--outlinetest",buttonSize:"btn--large",__self:_this,__source:{fileName:_jsxFileName,lineNumber:165,columnNumber:24}},"Sing Up"))))));}(user);};var _default=Navbar;exports.default=_default;