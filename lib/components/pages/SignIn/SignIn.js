var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(exports,"__esModule",{value:true});exports.default=exports.homeObjOne=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));var _react=_interopRequireWildcard(require("react"));var _core=require("@material-ui/core");var _Toast=_interopRequireDefault(require("../../../utils/Toast"));var _PupUpForgot=_interopRequireDefault(require("../PopUp/PupUp-Forgot"));require("../../../assets/styles/SignIn/sign-in.scss");require("react-toastify/dist/ReactToastify.css");var _logoMA=_interopRequireDefault(require("../../../assets/images/Home/signin/logo-m-a.png"));var _lana=_interopRequireDefault(require("../../../assets/images/Home/signin/lana.png"));var _iconGoogle=_interopRequireDefault(require("../../../assets/images/Home/signin/icon-google.png"));var _app=_interopRequireDefault(require("firebase/app"));require("firebase/auth");var _reactfire=require("reactfire");var _LogIn=_interopRequireDefault(require("../../../Services/User/LogIn"));var _Navbar=_interopRequireDefault(require("../Home/Navbar"));var _this=this,_jsxFileName="/home/guzman/ReactJSProjects/weblanatax/src/components/pages/SignIn/SignIn.jsx";var homeObjOne={lightBg:true,lightText:false,lightTextDesc:false,topLine:'VIEW OUR PRODUCTS',headline:'Shop through our catalog of products',description:'We provide worldwide shipping to all countries. If there are any issues, just issue a refund and we will process your request',buttonLabel:'Shop Now',imgStart:'',img:'images/svg-4.svg',alt:'Credit Card'};exports.homeObjOne=homeObjOne;var SignIn=function SignIn(){var _useState=(0,_react.useState)(''),_useState2=(0,_slicedToArray2.default)(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=(0,_react.useState)(''),_useState4=(0,_slicedToArray2.default)(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var firebase=(0,_reactfire.useFirebaseApp)();var provider=new _app.default.auth.GoogleAuthProvider();var validation=function validation(){return _regenerator.default.async(function validation$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(email.length===0||password.length===0)){_context.next=4;break;}return _context.abrupt("return",(0,_Toast.default)('Todos los campos son requeridos.',"error"));case 4:if(!(password.length<6)){_context.next=8;break;}return _context.abrupt("return",(0,_Toast.default)('La contraseña es demasiado corta. \nDebe tener más de 6 caracteres.',"error"));case 8:return _context.abrupt("return",signIn());case 9:case"end":return _context.stop();}}},null,null,null,Promise);};var signIn=function signIn(){return _regenerator.default.async(function signIn$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regenerator.default.awrap(firebase.auth().signInWithEmailAndPassword(email,password).catch(function(err){if(err.code==="auth/invalid-email"){(0,_Toast.default)('Correo invalido.',"error");}else if(err.code==="auth/user-not-found"||err.code==="auth/wrong-password"){(0,_Toast.default)('Correo o contraseña incorrectos.',"error");}else if(err.code==="auth/too-many-requests"){(0,_Toast.default)('Ha superado el número de intentos.\nIntente de nuevo más tarde.',"error");}else{(0,_Toast.default)(err.message,"error");}}));case 2:case"end":return _context2.stop();}}},null,null,null,Promise);};var signInFireBase=function signInFireBase(){return _regenerator.default.async(function signInFireBase$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return _regenerator.default.awrap(firebase.auth().signInWithEmailAndPassword(email,password).catch(function(err){if(err.code==="auth/invalid-email"){(0,_Toast.default)('Correo invalido.',"error");}else if(err.code==="auth/user-not-found"||err.code==="auth/wrong-password"){(0,_Toast.default)('Correo o contraseña incorrectos.',"error");}else if(err.code==="auth/too-many-requests"){(0,_Toast.default)('Ha superado el número de intentos.\nIntente de nuevo más tarde.',"error");}else{(0,_Toast.default)(err.message,"error");}}));case 2:case"end":return _context3.stop();}}},null,null,null,Promise);};var google=function google(){_app.default.auth().signInWithPopup(provider).catch(function(err){console.error("Error al iniciar sesión con google: "+err);});};var _useState5=(0,_react.useState)(false),_useState6=(0,_slicedToArray2.default)(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var handleClickOpen=function handleClickOpen(open){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var user=(0,_reactfire.useUser)();console.log("hola sign in");{user.data?console.log("usuario: "+user.data):console.log("no hay usuario");}return _react.default.createElement("div",{className:"signin-background",__self:_this,__source:{fileName:_jsxFileName,lineNumber:122,columnNumber:9}},_react.default.createElement(_core.Grid,{container:true,direction:"column",justify:"center",alignItems:"center",className:"sign-in-parent",__self:_this,__source:{fileName:_jsxFileName,lineNumber:124,columnNumber:13}},_react.default.createElement("div",{className:"imgs",__self:_this,__source:{fileName:_jsxFileName,lineNumber:125,columnNumber:17}},_react.default.createElement("img",{className:"logo-lana",src:_lana.default,alt:"LANA TAX logo",__self:_this,__source:{fileName:_jsxFileName,lineNumber:126,columnNumber:21}}),_react.default.createElement("img",{src:_logoMA.default,alt:"M&A TAX GROUP logo",__self:_this,__source:{fileName:_jsxFileName,lineNumber:127,columnNumber:21}})),_react.default.createElement(_core.Grid,{className:"label-container",container:true,direction:"column",justify:"flex-start",__self:_this,__source:{fileName:_jsxFileName,lineNumber:129,columnNumber:17}},_react.default.createElement("label",{className:"label-text",htmlFor:"Email",__self:_this,__source:{fileName:_jsxFileName,lineNumber:130,columnNumber:21}},"Correo"),_react.default.createElement("input",{className:"input-text",type:"email",name:"email",id:"Email",placeholder:"Correo",value:email,onChange:function onChange(e){return setEmail(e.target.value);},__self:_this,__source:{fileName:_jsxFileName,lineNumber:131,columnNumber:21}}),_react.default.createElement("label",{className:"label-text",htmlFor:"Password",__self:_this,__source:{fileName:_jsxFileName,lineNumber:133,columnNumber:21}},"Contrase\xF1a"),_react.default.createElement("input",{className:"input-text",type:"password",name:"password",id:"Password",placeholder:"Contrase\xF1a",value:password,onChange:function onChange(e){return setPassword(e.target.value);},__self:_this,__source:{fileName:_jsxFileName,lineNumber:134,columnNumber:21}})),_react.default.createElement("button",{className:"button-green",onClick:validation,__self:_this,__source:{fileName:_jsxFileName,lineNumber:137,columnNumber:17}},"Ingresar"),_react.default.createElement("button",{className:"forgot-password",onClick:handleClickOpen,__self:_this,__source:{fileName:_jsxFileName,lineNumber:138,columnNumber:17}},"\xBFOlvidaste tu contrase\xF1a?"),_react.default.createElement("button",{className:"button-google",onClick:google,__self:_this,__source:{fileName:_jsxFileName,lineNumber:139,columnNumber:17}},_react.default.createElement("img",{src:_iconGoogle.default,alt:"Icono de Google",__self:_this,__source:{fileName:_jsxFileName,lineNumber:140,columnNumber:21}}),_react.default.createElement("p",{__self:_this,__source:{fileName:_jsxFileName,lineNumber:141,columnNumber:21}},"Ingresar con Google"))),_react.default.createElement(_PupUpForgot.default,{open:open,onClose:handleClose,title:"Recuperar Contrase\xF1a",__self:_this,__source:{fileName:_jsxFileName,lineNumber:144,columnNumber:13}}));};var _default=SignIn;exports.default=_default;