var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.loadRoom=loadRoom;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _config=require("../../Config/config");var _axios=_interopRequireDefault(require("axios"));var _Chat=_interopRequireDefault(require("../../Services/Chat"));var _marked=_regenerator.default.mark(loadRoom);function loadRoom(action){var data;return _regenerator.default.wrap(function loadRoom$(_context){while(1){switch(_context.prev=_context.next){case 0:data={email:action.payload.email.toLowerCase(),room_type:"support"};try{(0,_axios.default)({baseURL:_config.Config.API_URL+"connect_conversation",method:'post',headers:{Accept:'application/json','Content-Type':'application/json'},data:data,timeout:3000}).then(function(_ref){var data=_ref.data;return data;}).catch(function(err){console.error("Error al crear usuario: ",err);return err;});}catch(err){console.error("Error al traer historial del chat",err);}case 2:case"end":return _context.stop();}}},_marked);}